{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "data": {
      "url": "https://raw.githubusercontent.com/classicblue8/classicblue8.github.io/main/adatbazis.csv",
      "format": {"type": "csv"}
    },
    "mark": {"type": "bar", "stack": "normalize"},
    "encoding": {
      "x": {"field": "id", "type": "ordinal", "title": "ID", "sort": {"field": "value", "op": "sum", "order": "descending"}},
      "y": {"aggregate": "sum", "field": "value", "title": "Mennyiség"},
      "color": {
        "field": "variable",
        "type": "nominal",
        "scale": {"range": ["#1f77b4", "#ff7f0e"]},
        "legend": {"title": "Type of Export"}
      },
      "tooltip": [
        {"field": "id", "title": "ID"},
        {"field": "variable", "title": "Export"},
        {"field": "sum_value", "title": "Mennyiség"}
      ]
    },
    "transform": [
      {"fold": ["INTRA_EU_EXP", "EXTRA_EU_EXP"], "as": ["variable", "value"]}
    ],
    "title": {
      "text": "Distribution of INTRA_EU_EXP and EXTRA_EU_EXP by ID",
      "subtitle": "Percentage of Total for Each ID",
      "subtitleFont": "Arial",
      "subtitleFontSize": 12
    },
    "width": 600,
    "height": 400
  }
  